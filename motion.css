/* ========================================
   화면 전환 애니메이션
   ======================================== */

/* gamePlay 내부 요소 초기 상태 */
.gamePlay .backgroundLayer,
.gamePlay .gameBox,
.gamePlay .gameInfo {
    opacity: 0;
    transform: translateY(-30px);
    transition: opacity 0.5s ease, transform 0.5s ease;
}

/* gamePlay 활성화 시 순차 애니메이션 */
.gamePlay.active .backgroundLayer {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0s;
}

.gamePlay.active .gameBox {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.2s;
}

.gamePlay.active .gameInfo {
    opacity: 0.4;
    transform: translateY(0);
    transition-delay: 0.4s;
}

/* mainMenu 사라질 때 애니메이션 */
.mainMenu .cards-wrapper,
.mainMenu .menu-title {
    transition: transform 0.3s ease, opacity 0.3s ease;
}

.mainMenu.hidden .cards-wrapper {
    transform: translateY(30px);
    opacity: 0;
}

.mainMenu.hidden .menu-title {
    transform: translateY(-30px);
    opacity: 0;
}

/* gameOver 등장 애니메이션 */
.gameOver.active .gameOverContainer {
    animation: gameOverSlideIn 0.6s ease-out;
}

@keyframes gameOverSlideIn {
    0% {
        transform: translateY(-50px);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

/* ========================================
   게임 중 흔들림 애니메이션
   ======================================== */

/* 보스 공격 흔들림 */
.gameSpace.shakeBoss {
    animation: shakeBoss 0.8s;
}

/* 일반 흔들림 */
.gameSpace.shake {
    animation: shake 0.3s;
}

.bossSpace.shake2 {
    animation: shake2 0.3s;
}

.gameSpace.impact1 {
    animation: impact1 0.15s;
}
@keyframes impact1 {
    0%, 100% { 
        transform: scale(80%) translateY(0); 
    }
    50% , 60%{ 
        transform: scale(80%) translateY(-3px); 
    }
}

@keyframes shakeBoss {
    0%, 100% { 
        transform: scale(80%) translateX(0); 
    }
    10%, 30%, 50%, 70%, 90% { 
        transform: scale(82%) translateX(-6px); 
    }
    20%, 40%, 60%, 80% { 
        transform: scale(82%) translateX(6px); 
    }
}

@keyframes shake {
    0%, 100% { 
        transform: scale(80%) translateX(0); 
    }
    25%, 75% { 
        transform: scale(80%) translateX(-2px); 
    }
    50% { 
        transform: scale(80%) translateX(2px); 
    }
}


@keyframes shake2 {
    0%, 100% { 
        transform: translateX(0); 
    }
    25%, 75% { 
        transform: translateX(-3px); 
    }
    50% { 
        transform: translateX(3px); 
    }
}


/* 흔들림 효과 */
@keyframes shakingBoss {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  20% { transform: translate(-5px, 0) rotate(-2deg); }
  40% { transform: translate(5px, 0) rotate(2deg); }
  60% { transform: translate(-3px, 0) rotate(-1deg); }
  80% { transform: translate(3px, 0) rotate(1deg); }
}

/* 터지는 효과 (scale + fade out) */
@keyframes bossExplode {
  0% { transform: scale(1); opacity: 1; filter: brightness(1); }
  50% { transform: scale(1.3); filter: brightness(2); }
  100% { transform: scale(0); opacity: 0; filter: brightness(3); }
}

/* 흔들리는 상태 */
.shakingBoss {
  animation: shakingBoss 0.7s ease-in-out infinite;
}

/* 터질 때 */
.bossExplode {
  animation: bossExplode 0.6s ease-out forwards;
}

.bossExplode::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 150%;
  height: 150%;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, rgba(255,255,200,0.9) 0%, rgba(255,100,0,0) 70%);
  opacity: 0;
  animation: explosionFlash 0.4s ease-out forwards;
}

@keyframes explosionFlash {
  0% { opacity: 1; transform: translate(-50%, -50%) scale(0.8); }
  100% { opacity: 0; transform: translate(-50%, -50%) scale(1.5); }
}
